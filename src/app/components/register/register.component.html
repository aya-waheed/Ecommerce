<section class="bg-main-light p-4 rounded my-3 w-75 mx-auto">
    <h1> Register Now </h1>

<form [formGroup]="registerForm" (ngSubmit)="handleForm()">

    <!-- <p> {{ registerForm.get('name')?.getError('minlength') | json }} </p> -->

   <div class="mb-2">

    <label for="name"> name :</label>
    <input 
       
    #inputName

    
    formControlName="name" type="text" id="name" class="form-control">


   </div>

   <div class="alert alert-danger" *ngIf=" registerForm.get('name')?.errors && (registerForm.get('name')?.touched || inputName.value.length > 0) " >

    <p *ngIf=" registerForm.get('name')?.getError('required') ">Name is Required</p>

    <p *ngIf=" registerForm.get('name')?.getError('minlength') ">Name Minlength 3</p>

    <p *ngIf=" registerForm.get('name')?.getError('maxlength') ">Name Maxlength 20</p>




   </div>



   <div class="mb-2">

    <label for="email"> email :</label>
    <input

    #inputEmail
    
    
    formControlName="email" type="email" id="email" class="form-control">


   </div>

   <div class="alert alert-danger" *ngIf=" registerForm.get('email')?.errors && (registerForm.get('email')?.touched || inputEmail.value.length > 0) " >

    <p *ngIf=" registerForm.get('email')?.getError('required') ">Email is Required</p>

    <p *ngIf=" registerForm.get('email')?.getError('email') ">Email is invalid</p>





   </div>


   <div class="mb-2">

    <label for="password"> password :</label>
    <input 

    #inputPassword
    
    
    formControlName="password" type="password" id="password" class="form-control">


   </div>

   
   <div class="alert alert-danger" *ngIf=" registerForm.get('password')?.errors && (registerForm.get('password')?.touched ||inputPassword.value.length > 0) " >

    <p *ngIf=" registerForm.get('password')?.getError('required') ">Password is Required</p>

    <p *ngIf=" registerForm.get('password')?.getError('pattern') "> Password must start with upperCase then from 6 to 10
    </p>





   </div>




   <div class="mb-2">

    <label for="rePassword"> rePassword :</label>
    <input 
     
    #inputRePassword
    
    formControlName="rePassword" type="password" id="rePassword" class="form-control">


   </div>

    
   <div class="alert alert-danger" *ngIf=" registerForm.get('rePassword')?.errors && (registerForm.get('rePassword')?.touched || inputRePassword.value.length > 0) " >

    <p *ngIf=" registerForm.get('rePassword')?.getError('required') ">rePassword is Required</p>

    <p *ngIf=" registerForm.get('rePassword')?.getError('mismatch') "> rePassword not equal password
    </p>



   </div>

   <div class="mb-2">

    <label for="phone"> phone :</label>
    <input
      
    #inputPhone
    
    formControlName="phone" type="tel" id="phone" class="form-control">


   </div>

    
   <div class="alert alert-danger" *ngIf=" registerForm.get('phone')?.errors && (registerForm.get('phone')?.touched || inputPhone.value.length > 0) " >

    <p *ngIf=" registerForm.get('phone')?.getError('required') ">Password is Required</p>

    <p *ngIf=" registerForm.get('phone')?.getError('pattern') "> Accept only egypt phone numbers
    </p>



   </div>




   <button  class="btn-main ms-auto d-block">

    <i *ngIf="isLoading" class="fa-solid fa-spinner fa-spin"></i>
    
    
    register 



</button>

   <p *ngIf="msgError" class="alert alert-danger"> {{msgError}} </p>


</form>

</section>